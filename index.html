<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CONSTRUCTION ESTIMATE CALCULATOR</title>

<style>
:root{
  --accent:#ffcc00;       
  --accent-dark:#e6b800;
  --card:#ffffffdd;
  --muted:#333;
  --btn:#ff9900;
  --btn-hover:#e68a00;
  --text:#111;
  font-family: 'Arial', sans-serif;
}

body{
  margin:0;
  padding:20px;
  background:url('wall.png') no-repeat center center fixed;
  background-size:cover;
}

.app{
  max-width:800px;
  margin:0 auto;
}

header{
  background:var(--accent);
  padding:14px;
  border-radius:10px;
  text-align:center;
  color:var(--text);
  box-shadow:0 3px 8px rgba(0,0,0,0.25);
}
header h1{
  margin:0;
  font-size:22px;
}

.tiles{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:12px;
  margin:18px 0;
}

.tile{
  background:#ffffffdd;
  border-radius:10px;
  text-align:center;
  cursor:pointer;
  box-shadow:0 3px 8px rgba(0,0,0,0.2);
  transition:0.2s;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  aspect-ratio:1/1;
  padding:10px;
  font-weight:bold;
}

.subtabs{
  display:flex;
  gap:8px;
  margin:12px 0;
  flex-wrap:wrap;
}

.subtab{
  background:#ffffffcc;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
  font-size:13px;
  box-shadow:0 1px 2px rgba(0,0,0,.2);
  text-transform:uppercase;
  font-weight:600;
}
.subtab.active{
  background:#fff;
  border:2px solid var(--accent-dark);
}

.card{
  background:var(--card);
  padding:14px;
  border-radius:10px;
  box-shadow:0 3px 8px rgba(0,0,0,.25);
  margin-bottom:12px;
}

.row{
  display:flex;
  gap:8px;
  align-items:center;
  margin-bottom:8px;
}

label{
  flex:1;
  color:var(--muted);
  font-size:13px;
  text-transform:uppercase;
}

input[type=number], select{
  width:140px;
  padding:8px;
  border-radius:6px;
  border:1px solid #ccc;
}

.btn{
  display:inline-block;
  background:var(--btn);
  color:#fff;
  padding:8px 12px;
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
  text-align:center;
  text-transform:uppercase;
  margin-right:6px;
  box-shadow:0 2px 5px rgba(0,0,0,0.3);
}

.out{
  background:#111c;
  color:#fff;
  padding:8px;
  border-radius:6px;
  text-align:center;
  font-weight:600;
  margin-top:10px;
}

footer{
  margin-top:14px;
  font-size:12px;
  color:#fff;
  text-shadow:0 1px 2px #000;
  text-align:center;
  text-transform:uppercase;
}
</style>
</head>

<body>
<div class="app">

<header>
  <h1>CONSTRUCTION ESTIMATE CALCULATOR</h1>
</header>

<div id="frontPage" class="tiles"></div>

<div id="categoryPage" style="display:none;">
  <button class="btn" onclick="goHome()">HOME</button>
  <div class="subtabs" id="subtabs"></div>
  <div class="card" id="main"></div>
</div>

<footer>
  NELKYUTIE - CESO, 550ABG @ DECEMBER 2025.
</footer>

</div>

<script>

// MAIN MENU
const categories = {
  "CONCRETING": [
    "FOOTING",
    "WALL FOOTING",
    "CONCRETE BEAMS",
    "FLOOR SLAB",
    "FLOOR SLAB - BY AREA",
    "COLUMNS RECTANGULAR",
    "COLUMNS CIRCULAR",
    "CONCRETE STAIRS"
  ],

  "MASONRY": [],
  "REINFORCEMENT": [],
  "CARPENTRY": []
};

const front = document.getElementById("frontPage");
const catPage = document.getElementById("categoryPage");
const subtabs = document.getElementById("subtabs");
const main = document.getElementById("main");

// Build tiles
Object.keys(categories).forEach(cat=>{
  let d=document.createElement("div");
  d.className="tile";
  d.innerHTML=cat;
  d.onclick=()=>openCategory(cat);
  front.appendChild(d);
});

// NAVIGATION
function goHome(){
  catPage.style.display="none";
  front.style.display="grid";
}

function openCategory(cat){
  front.style.display="none";
  catPage.style.display="block";

  subtabs.innerHTML="";
  categories[cat].forEach((s,i)=>{
    let b=document.createElement("div");
    b.className="subtab";
    b.innerHTML=s;
    b.onclick=()=>openSubTab(cat,s,b);
    if(i===0){ setTimeout(()=>b.click(),50); }
    subtabs.appendChild(b);
  });
}

// OPEN SUBTAB
function openSubTab(cat,sub,btn){
  document.querySelectorAll(".subtab").forEach(x=>x.classList.remove("active"));
  btn.classList.add("active");

  // LOAD COMPONENT
  if(sub==="CONCRETE BEAMS") renderConcreteBeams();
  else main.innerHTML="<div>Select calculator...</div>";
}

//////////////////////////////////////////////////////////////////
// ⭐⭐⭐⭐⭐ CONCRETE BEAMS — FULL WORKING CALCULATOR ⭐⭐⭐⭐⭐
//////////////////////////////////////////////////////////////////

function renderConcreteBeams(){

main.innerHTML = `
<h2 style="text-align:center;margin:0 0 10px;">CONCRETE BEAMS</h2>

<div class="row"><label>Length (m)</label><input id="bm_len" type="number" value="0"></div>
<div class="row"><label>Width (m)</label><input id="bm_w" type="number" value="0"></div>
<div class="row"><label>Height (m)</label><input id="bm_h" type="number" value="0"></div>
<div class="row"><label>Quantity</label><input id="bm_qty" type="number" value="1"></div>

<div class="row">
<label>Concrete Class</label>
<select id="bm_class">
  <option>Class A</option>
  <option>Class B</option>
  <option>Class C</option>
</select>
</div>

<hr>

<h3>Main Bars</h3>
<div class="row"><label>Bar Size</label>
<select id="bm_mainbar">
  <option>10mm</option>
  <option>12mm</option>
  <option>16mm</option>
</select></div>

<div class="row"><label>Top Bars</label><input id="bm_top" type="number" value="2"></div>
<div class="row"><label>Bottom Bars</label><input id="bm_bot" type="number" value="2"></div>

<hr>

<h3>Stirrups</h3>
<div class="row"><label>Spacing (m)</label><input id="bm_space" type="number" value="0.15"></div>

<div class="row">
<label>Stirrups Bar Size</label>
<select id="bm_stirrup_size">
  <option>8mm</option>
  <option>10mm</option>
</select></div>

<div class="row"><label>Hook Allowance (m)</label><input id="bm_hook" type="number" value="0.10"></div>

<button class="btn" onclick="computeBeam()">Compute</button>

<div id="bm_out"></div>
`;
}

// COMPUTATION FUNCTION
function computeBeam(){
  let L = parseFloat(bm_len.value);
  let W = parseFloat(bm_w.value);
  let H = parseFloat(bm_h.value);
  let Q = parseFloat(bm_qty.value);

  let top = parseFloat(bm_top.value);
  let bot = parseFloat(bm_bot.value);

  let space = parseFloat(bm_space.value);
  let hook = parseFloat(bm_hook.value);

  // Concrete Volume
  let volume = L * W * H * Q;

  // Main Bars
  let dev = 0.40; // standard dev length
  let mainLenPerBar = L + 2 * dev;
  let totalBars = (top + bot) * Q;
  let totalMainLen = mainLenPerBar * (top + bot) * Q;

  // Stirrups
  let stirrupCount = Math.ceil(L / space);
  let stirrupLen = (2 * W) + (2 * H) + hook;
  let totalStirrupLen = stirrupCount * stirrupLen * Q;

  bm_out.innerHTML = `
    <div class="out">Concrete Volume: ${volume.toFixed(3)} m³</div>
    <div class="out">Main Bars Needed: ${totalBars} pcs</div>
    <div class="out">Main Bars Total Length: ${totalMainLen.toFixed(2)} m</div>
    <div class="out">No. of Stirrups: ${stirrupCount * Q} pcs</div>
    <div class="out">Stirrup per Piece Length: ${stirrupLen.toFixed(2)} m</div>
    <div class="out">Total Stirrup Steel Length: ${totalStirrupLen.toFixed(2)} m</div>
  `;
}

</script>

</body>
</html>
